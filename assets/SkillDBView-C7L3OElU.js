import{r as K,L as Y,b as Z,B as Q,W as I,_ as X}from"./projectKeys-CzX813_3.js";import{u as G,r as y,w as O,o as ss,c as L,a as C,b as t,d as g,t as _,e as u,f as p,g as a,R as es,h as ts,v as ls,n as x,F as R,i as U,j as T}from"./index-5rq9MoEn.js";const is=""+new URL("EW-ciZBqSDB.png",import.meta.url).href,os=""+new URL("advanced_countermeasures-BVNINs0Y.png",import.meta.url).href,as=""+new URL("automated_ships-BCIRwhfh.png",import.meta.url).href,ns=""+new URL("best_of_the_best-D_Ty6vnw.png",import.meta.url).href,_s=""+new URL("bulk_transport-DvT9J6Ay.png",import.meta.url).href,rs=""+new URL("carrier_command-ebnbZkIx.png",import.meta.url).href,cs=""+new URL("combat_endurance3-BdcGGPjr.png",import.meta.url).href,ps=""+new URL("containment_procedures-G9cX4qHC.png",import.meta.url).href,ds=""+new URL("coordinated_maneuvers2-BgzhmVme.png",import.meta.url).href,us=""+new URL("crew_training-DMO7SWng.png",import.meta.url).href,ms=""+new URL("cybernetic_augmentation-D-E46TlP.png",import.meta.url).href,vs=""+new URL("damage_control2-1_2Oy2tJ.png",import.meta.url).href,gs=""+new URL("derelict_contingent-Bebve0CZ.png",import.meta.url).href,fs=""+new URL("energy_weapon_mastery-DaQ5Mlls.png",import.meta.url).href,hs=""+new URL("field_modulation-CNF0Yexa.png",import.meta.url).href,bs=""+new URL("field_repairs-BK8REjcQ.png",import.meta.url).href,ws=""+new URL("fighter_uplink2-BDUOJDn5.png",import.meta.url).href,ks=""+new URL("flux_dynamics-B2xikO1o.png",import.meta.url).href,ys=""+new URL("gunnery_implants-DFR2Ci19.png",import.meta.url).href,Ls=""+new URL("helmsmanship-Cm3TsSjH.png",import.meta.url).href,Cs=""+new URL("hypercognition-Cepy6khe.png",import.meta.url).href,Us=""+new URL("impact_mitigation-KN8UeMc4.png",import.meta.url).href,Ss=""+new URL("industrial_planning-DhmUDdFW.png",import.meta.url).href,Rs=""+new URL("makeshift_equipment-ro0MJlqK.png",import.meta.url).href,Es=""+new URL("missile_specialization2-DYjMk_pT.png",import.meta.url).href,xs=""+new URL("navigation-4_be_ZBg.png",import.meta.url).href,Ts=""+new URL("neural_link-BDkEHuZc.png",import.meta.url).href,Vs=""+new URL("officer_management-CSmxBUGJ.png",import.meta.url).href,Bs=""+new URL("officer_training-v2KvSCqx.png",import.meta.url).href,Os=""+new URL("ordnance_expert2-BilQibJd.png",import.meta.url).href,Ds=""+new URL("phase_corps-CTeJ0qF8.png",import.meta.url).href,js=""+new URL("polarized_armor-BZJaWRBn.png",import.meta.url).href,zs=""+new URL("ranged_specialization-CP7q7RKD.png",import.meta.url).href,Ms=""+new URL("recovery_ops-BXiHGj9z.png",import.meta.url).href,Ns=""+new URL("salvaging-C72fea_Z.png",import.meta.url).href,$s=""+new URL("sensors-2JRMSgkV.png",import.meta.url).href,As=""+new URL("space_ops-Bzvw1c_L.png",import.meta.url).href,Fs=""+new URL("special_modifications-Csnj-FPN.png",import.meta.url).href,qs=""+new URL("systems_expertise-CYZ_Mj6y.png",import.meta.url).href,Hs=""+new URL("target_analysis2-DWCNLipQ.png",import.meta.url).href,Ps=""+new URL("weapon_drills-gL4nY_OY.png",import.meta.url).href,Ws=""+new URL("wolfpack-IkFR1SzJ.png",import.meta.url).href,Js=()=>K.get("/v1/skills",{limit:500}),Ks={class:"app-content-header"},Ys={class:"container-fluid"},Zs={class:"row"},Qs={class:"col-sm-6"},Is={class:"mb-0"},Xs={class:"fs-6"},Gs={class:"col-sm-6"},se={class:"breadcrumb float-sm-end"},ee={class:"breadcrumb-item"},te={class:"breadcrumb-item active","aria-current":"page"},le={class:"app-content"},ie={class:"container-fluid"},oe={class:"row"},ae={class:"col-lg-12"},ne={class:"card mb-4 mt-2"},_e={class:"card-header p-2 pt-3 pb-0"},re={class:"row"},ce={class:"col-lg-3"},pe={class:"input-group mb-3"},de=["placeholder"],ue={class:"col-lg-3"},me={class:"container"},ve={class:"row"},ge={class:"col-6"},fe={class:"col-lg-3"},he={class:"container"},be={class:"row"},we={class:"col-6"},ke={class:"col-lg-3"},ye={class:"container"},Le={class:"row"},Ce={class:"col-6"},Ue={class:"col-lg-3"},Se={class:"d-grid gap-2 mb-2"},Re={class:"col-lg-3"},Ee={class:"d-grid gap-2 mb-2"},xe={class:"card-body p-2"},Te={class:"flex gap-4"},Ve=["src"],Be={class:"flex gap-4"},Oe=["onClick"],De=["innerHTML"],Ne={__name:"SkillDBView",setup(je){const{t:i,locale:D}=G(),d=new Y(Z),b=y({pageSize:20,page:1,search:""}),w=y({compare:!1}),c=y({col_common:!1,col_combat:!1,skill_type:!0,isElite:!0}),m=y({}),S=y([]),f=y({1:{type_id:1,isShown:!0},2:{type_id:2,isShown:!0},3:{type_id:3,isShown:!0},4:{type_id:4,isShown:!0},11:{type_id:11,isShown:!0}}),h=y({0:{type_id:0,isShown:!0},1:{type_id:1,isShown:!0}}),v=y([{field:"s_title_t",titleCode:"skill.attr.s_title",colType:"common",title:"",minWidth:"150px",hide:!1,isShown:!0},{field:"compare",titleCode:"common.label.compare",colType:"common",hide:!1,isShown:!0},{field:"s_id",titleCode:"skill.attr.s_id",colType:"common",title:"",isUnique:!0,type:"number",hide:!0,isShown:!1},{field:"s_version_t",titleCode:"skill.attr.s_version_id",colType:"common",title:"",minWidth:"94px",hide:!0,isShown:!1},{field:"s_mod_t",titleCode:"skill.attr.s_mod_id",colType:"common",title:"",hide:!0,isShown:!1},{field:"s_type_t",titleCode:"skill.attr.s_type_id",colType:"common",title:"",hide:!1,isShown:!0},{field:"s_reqPoints",titleCode:"skill.attr.s_reqPoints",colType:"common",title:"",type:"number",hide:!1,isShown:!0},{field:"s_isElite_t",titleCode:"skill.attr.s_isElite",colType:"common",title:"",hide:!1,isShown:!0},{field:"skillEffect_t",titleCode:"skill.attr.skillEffect",colType:"common",title:"",hide:!1,isShown:!0}]);O(D,()=>{B()}),ss(async()=>{S.value=await Js(),H(),d.loadLS(["showAll","params","compareList","rawCols","selectedSkillType","selectedisElite","filter_params"],{showAll:c,params:b,compareList:m,rawCols:v,selectedSkillType:f,selectedisElite:h,filter_params:w}),d.isCacheEnabled.value&&V(),B(),d.appReady.value=!0}),O([v,c,b,w,f,h,m],()=>{d.appReady.value&&!d.initialLoad.value&&d.saveLS({showAll:c.value,params:b.value,filter_params:w.value,rawCols:v.value,selectedSkillType:f.value,selectedisElite:h.value,compareList:m.value}),d.appReady.value&&(d.initialLoad.value=!1)},{deep:!0});const j=L(()=>v.value.filter(e=>e.colType==="common"));L(()=>v.value.filter(e=>e.colType==="combat"));const z=L(()=>v.value.reduce((s,o)=>s+(o.isShown?1:0),0)+"/"+v.value.length),M=L(()=>Object.values(f.value).reduce((s,o)=>s+(o.isShown?1:0),0)+"/"+Object.keys(f.value).length),N=L(()=>Object.values(h.value).reduce((s,o)=>s+(o.isShown?1:0),0)+"/"+Object.keys(h.value).length),$=L(()=>Object.values(m.value).reduce((s,o)=>s+(o?1:0),0)+"/"+S.value.length),A=L(()=>{let e=S.value.filter(s=>f.value[s.s_type_id].isShown).filter(s=>h.value[s.s_isElite].isShown);return w.value.compare&&(e=e.filter(s=>s._isCompare)),e.map(s=>({...s,s_version_t:i("game.version-list."+s.s_version_id),s_mod_t:i("game.mod-list."+s.s_mod_id),s_type_t:i("skill.type."+s.s_type_id),s_title_t:i("skill.title."+s.s_code),s_isElite_t:i("common.yesno."+s.s_isElite)}))}),F=e=>{V(),w.value[e]=!w.value[e]},V=()=>{S.value.forEach(e=>{e._isCompare=!1,m.value[e._index]&&(e._isCompare=m.value[e._index])})},B=()=>{v.value.forEach(e=>{e.title=i(e.titleCode)})},q=e=>{e.hide=!e.isShown},E=e=>{const s=c.value[e];if(e.slice(0,4)==="col_"){const o=e.slice(4,99);v.value.forEach(r=>{r.colType===o&&(r.isShown=s,r.hide=!s)})}e==="skill_type"&&Object.keys(f.value).forEach(o=>{const r=f.value[o];r.isShown=s}),e==="isElite"&&Object.keys(h.value).forEach(o=>{const r=h.value[o];r.isShown=s})},H=()=>{S.value.forEach((e,s)=>{e.s_version_t="",e.s_mod_t="",e.s_type_t="",e.s_title_t="",e.s_isElite_t="",e._index=s,e._isCompare=!1})},P=e=>new URL(Object.assign({"../assets/pics/ss_pics/skills/EW.png":is,"../assets/pics/ss_pics/skills/advanced_countermeasures.png":os,"../assets/pics/ss_pics/skills/automated_ships.png":as,"../assets/pics/ss_pics/skills/best_of_the_best.png":ns,"../assets/pics/ss_pics/skills/bulk_transport.png":_s,"../assets/pics/ss_pics/skills/carrier_command.png":rs,"../assets/pics/ss_pics/skills/combat_endurance3.png":cs,"../assets/pics/ss_pics/skills/containment_procedures.png":ps,"../assets/pics/ss_pics/skills/coordinated_maneuvers2.png":ds,"../assets/pics/ss_pics/skills/crew_training.png":us,"../assets/pics/ss_pics/skills/cybernetic_augmentation.png":ms,"../assets/pics/ss_pics/skills/damage_control2.png":vs,"../assets/pics/ss_pics/skills/derelict_contingent.png":gs,"../assets/pics/ss_pics/skills/energy_weapon_mastery.png":fs,"../assets/pics/ss_pics/skills/field_modulation.png":hs,"../assets/pics/ss_pics/skills/field_repairs.png":bs,"../assets/pics/ss_pics/skills/fighter_uplink2.png":ws,"../assets/pics/ss_pics/skills/flux_dynamics.png":ks,"../assets/pics/ss_pics/skills/gunnery_implants.png":ys,"../assets/pics/ss_pics/skills/helmsmanship.png":Ls,"../assets/pics/ss_pics/skills/hypercognition.png":Cs,"../assets/pics/ss_pics/skills/impact_mitigation.png":Us,"../assets/pics/ss_pics/skills/industrial_planning.png":Ss,"../assets/pics/ss_pics/skills/makeshift_equipment.png":Rs,"../assets/pics/ss_pics/skills/missile_specialization2.png":Es,"../assets/pics/ss_pics/skills/navigation.png":xs,"../assets/pics/ss_pics/skills/neural_link.png":Ts,"../assets/pics/ss_pics/skills/officer_management.png":Vs,"../assets/pics/ss_pics/skills/officer_training.png":Bs,"../assets/pics/ss_pics/skills/ordnance_expert2.png":Os,"../assets/pics/ss_pics/skills/phase_corps.png":Ds,"../assets/pics/ss_pics/skills/polarized_armor.png":js,"../assets/pics/ss_pics/skills/ranged_specialization.png":zs,"../assets/pics/ss_pics/skills/recovery_ops.png":Ms,"../assets/pics/ss_pics/skills/salvaging.png":Ns,"../assets/pics/ss_pics/skills/sensors.png":$s,"../assets/pics/ss_pics/skills/space_ops.png":As,"../assets/pics/ss_pics/skills/special_modifications.png":Fs,"../assets/pics/ss_pics/skills/systems_expertise.png":qs,"../assets/pics/ss_pics/skills/target_analysis2.png":Hs,"../assets/pics/ss_pics/skills/weapon_drills.png":Ps,"../assets/pics/ss_pics/skills/wolfpack.png":Ws})[`../assets/pics/ss_pics/skills/${e}`],import.meta.url).href,W=e=>{let s="";return Object.values(e.skillEffects).forEach(o=>{let r=!1;o[0].se_type=="DESCRIPTION"&&(r=!0);let l=o[0].se_type;s+="<ul>",r||(o[0].se_isElite==1?s+=i("view.skill-db.skillEffect.label_elite"):s+=i("view.skill-db.skillEffect.label_effect")+i("skill.skillEffectType."+o[0].se_type)),o.forEach(n=>{if(r){s+=i("skill.skillEffect.se_"+n.se_id);return}if(n.se_type=="HULLMOD_UNLOCK"){for(let k=1;k<5&&n["se_v"+k]!=null;k++)s+="<li>"+i("view.skill-db.skillEffect.label_HULLMOD_UNLOCK")+i("hullMod.title."+n["se_v"+k])+"</li>";return}if(n.se_type=="ABILITY_UNLOCK"){for(let k=1;k<5&&n["se_v"+k]!=null;k++)s+="<li>"+i("view.skill-db.skillEffect.label_ABILITY_UNLOCK")+i("ability.title."+n.se_v1)+"</li>";return}s+="<li>",l!=n.se_type&&(s+=i("skill.skillEffectType."+n.se_type)+":"),s+=i("skill.skillEffect.se_"+n.se_id)+"</li>"}),s+="</ul>"}),s},J=e=>{e.value._isCompare=!e.value._isCompare,m.value[e.value._index]===void 0&&(m.value[e.value._index]=!1),m.value[e.value._index]=!m.value[e.value._index]};return(e,s)=>{const o=X,r=Q;return U(),C(R,null,[t("div",Ks,[t("div",Ys,[t("div",Zs,[t("div",Qs,[t("h3",Is,[g(_(e.$t("view.skill-db.title"))+" ",1),t("small",null,_(e.$t("view.skill-db.version")),1),s[9]||(s[9]=g()),t("small",Xs,_(e.$t("view.skill-db.desc")),1)])]),t("div",Gs,[t("ol",se,[t("li",ee,[u(a(es),{to:"/"},{default:p(()=>s[10]||(s[10]=[g("Home")])),_:1})]),t("li",te,_(e.$t("view.skill-db.title")),1)])])])])]),t("div",le,[t("div",ie,[t("div",oe,[t("div",ae,[t("div",ne,[t("div",_e,[t("div",re,[t("div",ce,[t("div",pe,[s[11]||(s[11]=t("span",{class:"input-group-text"},[t("i",{class:"bi bi-search"})],-1)),ts(t("input",{"onUpdate:modelValue":s[0]||(s[0]=l=>b.value.search=l),type:"text",class:"form-control",placeholder:e.$t("common.label.typeForSearch")},null,8,de),[[ls,b.value.search]])])]),t("div",ue,[u(r,{text:a(i)("view.skill-db.label_colShown",{cnt:z.value}),variant:"primary",class:"d-grid","auto-close":"outside"},{default:p(()=>[t("div",me,[s[12]||(s[12]=t("div",{class:"row"},[t("div",{class:"col-3",style:{"min-width":"450px"}})],-1)),u(o,{modelValue:c.value.col_common,"onUpdate:modelValue":[s[1]||(s[1]=l=>c.value.col_common=l),s[2]||(s[2]=l=>E("col_common"))],switch:"",state:c.value.col_common?!0:null},{default:p(()=>[g(_(a(i)("view.skill-db.label_selectAllCommonCol")),1)]),_:1},8,["modelValue","state"]),t("div",ve,[(U(!0),C(R,null,T(j.value,l=>(U(),C("div",ge,[u(o,{class:"ms-2",modelValue:l.isShown,"onUpdate:modelValue":[n=>l.isShown=n,n=>q(l)],switch:"",state:l.isShown?!0:null},{default:p(()=>[g(_(a(i)(l.titleCode)),1)]),_:2},1032,["modelValue","onUpdate:modelValue","state"])]))),256))])])]),_:1},8,["text"])]),t("div",fe,[u(r,{text:a(i)("view.skill-db.label_isEliteShown",{cnt:N.value}),variant:"primary",class:"d-grid","auto-close":"outside"},{default:p(()=>[t("div",he,[s[13]||(s[13]=t("div",{class:"row"},[t("div",{class:"col-3",style:{"min-width":"450px"}})],-1)),u(o,{modelValue:c.value.isElite,"onUpdate:modelValue":[s[3]||(s[3]=l=>c.value.isElite=l),s[4]||(s[4]=l=>E("isElite"))],switch:"",state:c.value.isElite?!0:null},{default:p(()=>[g(_(a(i)("view.skill-db.label_selectAll")),1)]),_:1},8,["modelValue","state"]),t("div",be,[(U(!0),C(R,null,T(h.value,l=>(U(),C("div",we,[u(o,{class:"ms-2",modelValue:l.isShown,"onUpdate:modelValue":n=>l.isShown=n,switch:"",state:l.isShown?!0:null},{default:p(()=>[g(_(a(i)("common.yesno."+l.type_id)),1)]),_:2},1032,["modelValue","onUpdate:modelValue","state"])]))),256))])])]),_:1},8,["text"])]),t("div",ke,[u(r,{text:a(i)("view.skill-db.label_typeShown",{cnt:M.value}),variant:"primary",class:"d-grid","auto-close":"outside"},{default:p(()=>[t("div",ye,[s[14]||(s[14]=t("div",{class:"row"},[t("div",{class:"col-3",style:{"min-width":"450px"}})],-1)),u(o,{modelValue:c.value.skill_type,"onUpdate:modelValue":[s[5]||(s[5]=l=>c.value.skill_type=l),s[6]||(s[6]=l=>E("skill_type"))],switch:"",state:c.value.skill_type?!0:null},{default:p(()=>[g(_(a(i)("view.skill-db.label_selectAllType")),1)]),_:1},8,["modelValue","state"]),t("div",Le,[(U(!0),C(R,null,T(f.value,l=>(U(),C("div",Ce,[u(o,{class:"ms-2",modelValue:l.isShown,"onUpdate:modelValue":n=>l.isShown=n,switch:"",state:l.isShown?!0:null},{default:p(()=>[g(_(a(i)("skill.type."+l.type_id)),1)]),_:2},1032,["modelValue","onUpdate:modelValue","state"])]))),256))])])]),_:1},8,["text"])]),t("div",Ue,[t("div",Se,[t("button",{class:x(["btn",[w.value.compare?"btn-primary":"btn-outline-primary"]]),type:"button",onClick:s[7]||(s[7]=l=>F("compare"))},_(w.value.compare?a(i)("common.label.on"):a(i)("common.label.off"))+"-"+_(a(i)("common.label.compare"))+" "+_($.value),3)])]),t("div",Re,[t("div",Ee,[t("button",{class:x(["btn",[a(d).isCacheEnabled.value?"btn-primary":"btn-outline-primary"]]),type:"button",onClick:s[8]||(s[8]=l=>a(d).switchCache())},_(a(d).isCacheEnabled.value?a(i)("common.label.on"):a(i)("common.label.off"))+"-"+_(a(i)("common.label.localStorage")),3)])])])]),s[15]||(s[15]=t("div",null,null,-1)),t("div",xe,[u(a(I),{rows:A.value,columns:v.value,sortable:!0,cloneHeaderInFooter:!0,stickyFirstColumn:!0,search:b.value.search,page:b.value.page,pageSize:b.value.pageSize,class:"alt-pagination",skin:"bh-table-striped bh-table-hover bh-table-bordered bh-table-compact"},{s_title_t:p(l=>[t("div",Te,[t("img",{src:P(l.value.s_icon)},null,8,Ve),g(" "+_(l.value.s_title_t),1)])]),compare:p(l=>[t("div",Be,[t("button",{type:"button",class:x(["btn",[l.value._isCompare?"btn-success":"btn-secondary"]]),onClick:n=>J(l)},_(l.value._isCompare?"+":"-"),11,Oe)])]),skillEffect_t:p(l=>[t("div",{class:"flex gap-4",innerHTML:W(l.value)},null,8,De)]),_:1},8,["rows","columns","search","page","pageSize"])]),s[16]||(s[16]=t("div",{class:"card-footer clearfix"},[t("p",{class:"float-end m-0"},"support version v0.97a-rc11")],-1))])])])])])],64)}}};export{Ne as default};
