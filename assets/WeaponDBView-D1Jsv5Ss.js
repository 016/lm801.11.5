import{r as M,B as P,W as R,_ as G,a as J}from"./style-BDnK6vEe.js";import{u as K,r as m,w as Q,o as X,c as b,a as p,b as o,t as n,d as Y,v as Z,e as r,f as _,g as i,n as j,F as x,h as w,i as h,j as z}from"./index-Ct9E9pOt.js";const ee=()=>M.get("/v1/weapons",{limit:500}),te={class:"app-content-header"},oe={class:"container-fluid"},le={class:"row"},ae={class:"col-sm-6"},se={class:"mb-0"},ie={class:"col-sm-6"},ne={class:"breadcrumb float-sm-end"},de={class:"breadcrumb-item active","aria-current":"page"},re={class:"app-content"},_e={class:"container-fluid"},ce={class:"row"},ue={class:"col-lg-12"},pe={class:"card mb-4 mt-2"},we={class:"card-header p-2 pt-3 pb-0"},me={class:"row"},he={class:"col-lg-3"},fe={class:"input-group mb-3"},ve=["placeholder"],be={class:"col-lg-3"},ye={class:"container"},Se={class:"row"},Ce={class:"col-6"},ge={class:"row"},Te={class:"col-6"},xe={class:"col-lg-3"},Ve={class:"container"},ze={class:"row"},ke={class:"col-6"},Ue={class:"col-lg-3"},$e={class:"container"},je={class:"row"},We={class:"col-6"},Be={class:"col-lg-3"},Oe={class:"d-grid gap-2 mb-2"},Le={class:"card-body p-2"},Ee={class:"flex gap-4"},Ae=["onClick"],qe={__name:"WeaponDBView",setup(Fe){const{t:a,locale:W}=K(),C=m({pageSize:20,page:2,search:""}),g=m({compare:!1}),d=m({col_common:!1,col_combat:!1,weapon_type:!0,weapon_size:!0}),f=m({}),T=m([]),y=m({1:{type_id:1,isShown:!0},2:{type_id:2,isShown:!0},3:{type_id:3,isShown:!0}}),S=m({1:{size_id:1,isShown:!0},2:{size_id:2,isShown:!0},3:{size_id:3,isShown:!0}}),v=m([{field:"compare",titleCode:"common.label.compare",colType:"common",hide:!1,isShown:!0},{field:"w_id",titleCode:"weapon.attr.w_id",colType:"common",title:"",isUnique:!0,type:"number",hide:!0,isShown:!1},{field:"w_title_t",titleCode:"weapon.attr.w_title_code",colType:"common",title:"",hide:!1,isShown:!0},{field:"w_version_t",titleCode:"weapon.attr.w_version_id",colType:"common",title:"",minWidth:"94px",hide:!0,isShown:!1},{field:"w_mod_t",titleCode:"weapon.attr.w_mod_id",colType:"common",title:"",hide:!0,isShown:!1},{field:"w_type_t",titleCode:"weapon.attr.w_type_id",colType:"combat",title:"",hide:!1,isShown:!0},{field:"w_size_t",titleCode:"weapon.attr.w_size_id",colType:"common",title:"",hide:!1,isShown:!0},{field:"w_role_t",titleCode:"weapon.attr.w_role_code",colType:"combat",title:"",minWidth:"100px",hide:!1,isShown:!0},{field:"w_damageType_t",titleCode:"weapon.attr.w_damage_type_code",colType:"combat",title:"",hide:!1,isShown:!0},{field:"w_op",titleCode:"weapon.attr.w_op",colType:"combat",title:"",type:"number",hide:!1,isShown:!0},{field:"w_range",titleCode:"weapon.attr.w_range",colType:"combat",title:"",type:"number",hide:!1,isShown:!0},{field:"w_damage",titleCode:"weapon.attr.w_damage",colType:"combat",title:"",hide:!1,isShown:!0},{field:"w_charges_ammo",titleCode:"weapon.attr.w_charges_ammo",colType:"combat",title:"",type:"number",hide:!1,isShown:!0},{field:"w_sec_recharge",titleCode:"weapon.attr.w_sec_recharge",colType:"combat",title:"",type:"number",hide:!1,isShown:!0},{field:"w_charges_gained",titleCode:"weapon.attr.w_charges_gained",colType:"combat",title:"",type:"number",hide:!1,isShown:!0},{field:"w_refire_delay",titleCode:"weapon.attr.w_refire_delay",colType:"combat",title:"",type:"number",hide:!1,isShown:!0},{field:"w_emp_burst_d",titleCode:"weapon.attr.w_emp_burst_d",colType:"combat",title:"",type:"number",hide:!0,isShown:!1},{field:"w_burst_damage",titleCode:"weapon.attr.w_burst_damage",colType:"combat",title:"",type:"number",hide:!1,isShown:!0},{field:"w_burst_dps",titleCode:"weapon.attr.w_burst_dps",colType:"combat",title:"",type:"number",hide:!0,isShown:!1},{field:"w_sustained_dps",titleCode:"weapon.attr.w_sustained_dps",colType:"combat",title:"",type:"number",hide:!0,isShown:!1},{field:"w_flux_burst",titleCode:"weapon.attr.w_flux_burst",colType:"combat",title:"",type:"number",hide:!0,isShown:!1},{field:"w_burst_flux",titleCode:"weapon.attr.w_burst_flux",colType:"combat",title:"",type:"number",hide:!0,isShown:!1},{field:"w_sustained_flux",titleCode:"weapon.attr.w_sustained_flux",colType:"combat",title:"",type:"number",hide:!1,isShown:!0},{field:"w_flux_shot",titleCode:"weapon.attr.w_flux_shot",colType:"combat",title:"",type:"number",hide:!1,isShown:!0},{field:"w_flux_non_emp_dmg",titleCode:"weapon.attr.w_flux_non_emp_dmg",colType:"combat",title:"",type:"number",hide:!1,isShown:!0},{field:"w_acc_t",titleCode:"weapon.attr.w_acc_code",colType:"combat",title:"",hide:!1,isShown:!0},{field:"w_max_spread",titleCode:"weapon.attr.w_max_spread",colType:"combat",title:"",type:"number",hide:!0,isShown:!1},{field:"w_turn_t",titleCode:"weapon.attr.w_turn_code",colType:"combat",title:"",hide:!1,isShown:!0},{field:"w_turn_rate_on_turets",titleCode:"weapon.attr.w_turn_rate_on_turets",colType:"combat",title:"",type:"number",hide:!0,isShown:!1},{field:"w_projectile_missile_speed",titleCode:"weapon.attr.w_projectile_missile_speed",colType:"combat",title:"",type:"number",hide:!1,isShown:!0},{field:"w_missile_launch_speed",titleCode:"weapon.attr.w_missile_launch_speed",colType:"combat",title:"",type:"number",hide:!0,isShown:!1},{field:"w_missile_acceleration",titleCode:"weapon.attr.w_missile_acceleration",colType:"combat",title:"",type:"number",hide:!0,isShown:!1},{field:"w_time_to_gain_max_speed",titleCode:"weapon.attr.w_time_to_gain_max_speed",colType:"combat",title:"",type:"number",hide:!0,isShown:!1},{field:"w_speed_t",titleCode:"weapon.attr.w_speed_code",colType:"combat",title:"",hide:!1,isShown:!0},{field:"w_tracking_t",titleCode:"weapon.attr.w_tracking_code",colType:"combat",title:"",hide:!1,isShown:!0},{field:"w_missile_60_turn_time",titleCode:"weapon.attr.w_missile_60_turn_time",colType:"combat",title:"",type:"number",hide:!0,isShown:!1},{field:"w_missile_turn_rate",titleCode:"weapon.attr.w_missile_turn_rate",colType:"combat",title:"",type:"number",hide:!0,isShown:!1},{field:"w_missile_turn_acceleration",titleCode:"weapon.attr.w_missile_turn_acceleration",colType:"combat",title:"",type:"number",hide:!0,isShown:!1},{field:"w_missile_hp",titleCode:"weapon.attr.w_missile_hp",colType:"combat",title:"",type:"number",hide:!0,isShown:!1},{field:"w_missile_lifetime",titleCode:"weapon.attr.w_missile_lifetime",colType:"combat",title:"",type:"number",hide:!0,isShown:!1}]);Q(W,()=>{U()}),X(async()=>{T.value=await ee(),D(),U()});const B=b(()=>v.value.filter(t=>t.colType==="common")),O=b(()=>v.value.filter(t=>t.colType==="combat")),L=b(()=>v.value.reduce((e,s)=>e+(s.isShown?1:0),0)+"/"+v.value.length),E=b(()=>Object.values(y.value).reduce((e,s)=>e+(s.isShown?1:0),0)+"/"+Object.keys(y.value).length),A=b(()=>Object.values(S.value).reduce((e,s)=>e+(s.isShown?1:0),0)+"/"+Object.keys(S.value).length),F=b(()=>Object.values(f.value).reduce((e,s)=>e+(s?1:0),0)+"/"+T.value.length),H=b(()=>{let t=T.value.filter(e=>y.value[e.w_type_id].isShown).filter(e=>S.value[e.w_size_id].isShown);return g.value.compare&&(t=t.filter(e=>e._isCompare)),t.map(e=>({...e,w_version_t:a("game.version-list."+e.w_version_id),w_mod_t:a("game.mod-list."+e.w_mod_id),w_type_t:a("weapon.type."+e.w_type_id),w_role_t:a("weapon.role."+e.w_role_code),w_title_t:a("weapon.title."+e.w_title_code),w_size_t:a("weapon.size."+e.w_size_id),w_damageType_t:a("weapon.damageType."+e.w_damage_type_code),w_acc_t:a("weapon.accuracy."+e.w_acc_code),w_turn_t:a("weapon.turn."+e.w_turn_code),w_speed_t:a("weapon.speed."+e.w_speed_code),w_tracking_t:a("weapon.tracking."+e.w_tracking_code)}))}),N=t=>{q(),g.value[t]=!g.value[t]},q=()=>{T.value.forEach((t,e)=>{t._isCompare=!1,f.value[t._index]&&(t._isCompare=f.value[t._index])})},U=()=>{v.value.forEach(t=>{t.title=a(t.titleCode)})},$=t=>{t.hide=!t.isShown},V=t=>{const e=d.value[t];if(t.slice(0,4)==="col_"){const s=t.slice(4,99);v.value.forEach(u=>{u.colType===s&&(u.isShown=e,u.hide=!e)})}t==="weapon_type"&&Object.keys(y.value).forEach(s=>{const u=y.value[s];u.isShown=e}),t==="weapon_size"&&Object.keys(S.value).forEach(s=>{const u=S.value[s];u.isShown=e})},D=()=>{T.value.forEach((t,e)=>{t.w_version_t="",t.w_mod_t="",t.w_type_t="",t.w_role_t="",t.w_title_t="",t.w_defence_t="",t.w_op_info_t="",t._index=e,t._isCompare=!1})},I=t=>{t.value._isCompare=!t.value._isCompare,f.value[t.value._index]===void 0&&(f.value[t.value._index]=!1),f.value[t.value._index]=!f.value[t.value._index]};return(t,e)=>{const s=G,u=J,k=P;return w(),p(x,null,[o("div",te,[o("div",oe,[o("div",le,[o("div",ae,[o("h3",se,n(t.$t("view.weapon-db.title")),1)]),o("div",ie,[o("ol",ne,[e[10]||(e[10]=o("li",{class:"breadcrumb-item"},[o("a",{href:"#"},"Home")],-1)),o("li",de,n(t.$t("view.weapon-db.title")),1)])])])])]),o("div",re,[o("div",_e,[o("div",ce,[o("div",ue,[o("div",pe,[o("div",we,[o("div",me,[o("div",he,[o("div",fe,[e[11]||(e[11]=o("span",{class:"input-group-text"},[o("i",{class:"bi bi-search"})],-1)),Y(o("input",{"onUpdate:modelValue":e[0]||(e[0]=l=>C.value.search=l),type:"text",class:"form-control",placeholder:t.$t("common.label.typeForSearch")},null,8,ve),[[Z,C.value.search]])])]),o("div",be,[r(k,{text:i(a)("view.weapon-db.label_weaponColShown",{cnt:L.value}),variant:"primary",class:"d-grid","auto-close":"outside"},{default:_(()=>[o("div",ye,[e[12]||(e[12]=o("div",{class:"row"},[o("div",{class:"col-3",style:{"min-width":"450px"}})],-1)),r(s,{modelValue:d.value.col_common,"onUpdate:modelValue":[e[1]||(e[1]=l=>d.value.col_common=l),e[2]||(e[2]=l=>V("col_common"))],switch:"",state:d.value.col_common?!0:null},{default:_(()=>[h(n(i(a)("view.weapon-db.label_selectAllCommonCol")),1)]),_:1},8,["modelValue","state"]),o("div",Se,[(w(!0),p(x,null,z(B.value,l=>(w(),p("div",Ce,[r(s,{class:"ms-2",modelValue:l.isShown,"onUpdate:modelValue":[c=>l.isShown=c,c=>$(l)],switch:"",state:l.isShown?!0:null},{default:_(()=>[h(n(i(a)(l.titleCode)),1)]),_:2},1032,["modelValue","onUpdate:modelValue","state"])]))),256))]),r(u),r(s,{modelValue:d.value.col_combat,"onUpdate:modelValue":[e[3]||(e[3]=l=>d.value.col_combat=l),e[4]||(e[4]=l=>V("col_combat"))],switch:"",state:d.value.col_combat?!0:null},{default:_(()=>[h(n(i(a)("view.weapon-db.label_selectAllCombatCol")),1)]),_:1},8,["modelValue","state"]),o("div",ge,[(w(!0),p(x,null,z(O.value,l=>(w(),p("div",Te,[r(s,{class:"ms-2",modelValue:l.isShown,"onUpdate:modelValue":[c=>l.isShown=c,c=>$(l)],switch:"",state:l.isShown?!0:null},{default:_(()=>[h(n(i(a)(l.titleCode)),1)]),_:2},1032,["modelValue","onUpdate:modelValue","state"])]))),256))])])]),_:1},8,["text"])]),o("div",xe,[r(k,{text:i(a)("view.weapon-db.label_weaponTypeShown",{cnt:E.value}),variant:"primary",class:"d-grid","auto-close":"outside"},{default:_(()=>[o("div",Ve,[e[13]||(e[13]=o("div",{class:"row"},[o("div",{class:"col-3",style:{"min-width":"450px"}})],-1)),r(s,{modelValue:d.value.weapon_type,"onUpdate:modelValue":[e[5]||(e[5]=l=>d.value.weapon_type=l),e[6]||(e[6]=l=>V("weapon_type"))],switch:"",state:d.value.weapon_type?!0:null},{default:_(()=>[h(n(i(a)("view.weapon-db.label_selectAllWeaponType")),1)]),_:1},8,["modelValue","state"]),o("div",ze,[(w(!0),p(x,null,z(y.value,l=>(w(),p("div",ke,[r(s,{class:"ms-2",modelValue:l.isShown,"onUpdate:modelValue":c=>l.isShown=c,switch:"",state:l.isShown?!0:null},{default:_(()=>[h(n(i(a)("weapon.type."+l.type_id)),1)]),_:2},1032,["modelValue","onUpdate:modelValue","state"])]))),256))])])]),_:1},8,["text"])]),o("div",Ue,[r(k,{text:i(a)("view.weapon-db.label_weaponSizeShown",{cnt:A.value}),variant:"primary",class:"d-grid","auto-close":"outside"},{default:_(()=>[o("div",$e,[e[14]||(e[14]=o("div",{class:"row"},[o("div",{class:"col-3",style:{"min-width":"450px"}})],-1)),r(s,{modelValue:d.value.weapon_size,"onUpdate:modelValue":[e[7]||(e[7]=l=>d.value.weapon_size=l),e[8]||(e[8]=l=>V("weapon_size"))],switch:"",state:d.value.weapon_size?!0:null},{default:_(()=>[h(n(i(a)("view.weapon-db.label_selectAllWeaponSize")),1)]),_:1},8,["modelValue","state"]),o("div",je,[(w(!0),p(x,null,z(S.value,l=>(w(),p("div",We,[r(s,{class:"ms-2",modelValue:l.isShown,"onUpdate:modelValue":c=>l.isShown=c,switch:"",state:l.isShown?!0:null},{default:_(()=>[h(n(i(a)("weapon.size."+l.size_id)),1)]),_:2},1032,["modelValue","onUpdate:modelValue","state"])]))),256))])])]),_:1},8,["text"])]),o("div",Be,[o("div",Oe,[o("button",{class:j(["btn",[g.value.compare?"btn-primary":"btn-outline-primary"]]),type:"button",onClick:e[9]||(e[9]=l=>N("compare"))},n(g.value.compare?i(a)("common.label.on"):i(a)("common.label.off"))+"-"+n(i(a)("common.label.compare"))+" "+n(F.value),3)])])])]),e[15]||(e[15]=o("div",null,null,-1)),o("div",Le,[r(i(R),{rows:H.value,columns:v.value,sortable:!0,cloneHeaderInFooter:!0,search:C.value.search,page:C.value.page,pageSize:C.value.pageSize,class:"alt-pagination",skin:"bh-table-striped bh-table-hover bh-table-bordered bh-table-compact"},{compare:_(l=>[o("div",Ee,[o("button",{type:"button",class:j(["btn",[l.value._isCompare?"btn-success":"btn-secondary"]]),onClick:c=>I(l)},n(l.value._isCompare?"+":"-"),11,Ae)])]),_:1},8,["rows","columns","search","page","pageSize"])]),e[16]||(e[16]=o("div",{class:"card-footer clearfix"},[o("p",{class:"float-end m-0"},"support version v0.97a-rc11")],-1))])])])])])],64)}}};export{qe as default};
