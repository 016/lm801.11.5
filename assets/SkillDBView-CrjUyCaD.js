import{r as Y,L as J,j as I,_ as Q,B as X,W as Z,a as G}from"./projectKeys-DasKoGqd.js";import{u as ss,r as w,w as A,o as es,c as y,b as C,d as l,e as d,f as g,t as n,g as r,h as o,R as ls,i as ts,v as is,n as V,F as T,k as S,l as O}from"./index-Dg2zU5sB.js";import{_ as as,a as os,b as _s,c as ns,d as cs,e as ps,f as rs,g as ds,h as us,i as vs,j as ms,k as gs,l as fs,m as bs,n as hs,o as ks,p as ws,q as ys,r as Cs,s as Ss,t as Es,u as Ls,v as Ts,w as xs,x as Vs,y as Os,z as Us,A as $s,B as As,C as js,D as Bs,E as Ns,F as zs,G as Hs,H as Ms,I as Rs,J as Fs,K as Ps,L as Ws,M as qs,N as Ds,O as Ks}from"./wolfpack-BrfA5D4v.js";const Ys=()=>Y.get("/v1/skills",{limit:500}),Js={class:"app-content-header"},Is={class:"container-fluid"},Qs={class:"row"},Xs={class:"col-sm-6"},Zs={class:"mb-0"},Gs={class:"fs-6"},se={class:"col-sm-6"},ee={class:"breadcrumb float-sm-end"},le={class:"breadcrumb-item"},te={class:"breadcrumb-item active","aria-current":"page"},ie={class:"app-content"},ae={class:"container-fluid"},oe={class:"row"},_e={class:"col-lg-12"},ne={class:"card mb-4 mt-2"},ce={class:"card-header p-2 pt-3 pb-0"},pe={class:"row"},re={class:"col-lg-3"},de={class:"input-group mb-3"},ue=["placeholder"],ve={class:"col-lg-3"},me={class:"container"},ge={class:"row"},fe={class:"col-6"},be={class:"col-lg-3"},he={class:"container"},ke={class:"row"},we={class:"col-6"},ye={class:"col-lg-3"},Ce={class:"container"},Se={class:"row"},Ee={class:"col-6"},Le={class:"col-lg-3"},Te={class:"d-grid gap-2 mb-2"},xe={class:"col-lg-3"},Ve={class:"d-grid gap-2 mb-2"},Oe={class:"card-body p-2"},Ue={class:"flex gap-4"},$e=["src"],Ae={class:"flex gap-4"},je=["onClick"],Be=["innerHTML"],Re={__name:"SkillDBView",setup(Ne){const{t:i,locale:j}=ss(),u=new J(I),h=w({pageSize:20,page:1,search:""}),k=w({compare:!1}),p=w({col_common:!1,col_combat:!1,skill_type:!0,isElite:!0}),v=w({}),E=w([]),f=w({1:{type_id:1,isShown:!0},2:{type_id:2,isShown:!0},3:{type_id:3,isShown:!0},4:{type_id:4,isShown:!0},11:{type_id:11,isShown:!0}}),b=w({0:{type_id:0,isShown:!0},1:{type_id:1,isShown:!0}}),m=w([{field:"s_title_t",titleCode:"skill.attr.s_title",colType:"common",title:"",minWidth:"150px",hide:!1,isShown:!0},{field:"compare",titleCode:"common.label.compare",colType:"common",hide:!1,isShown:!0},{field:"s_code",titleCode:"skill.attr.s_code",colType:"common",title:"",hide:!1,isShown:!0},{field:"s_id",titleCode:"skill.attr.s_id",colType:"common",title:"",isUnique:!0,type:"number",hide:!0,isShown:!1},{field:"s_version_t",titleCode:"skill.attr.s_version_id",colType:"common",title:"",minWidth:"94px",hide:!0,isShown:!1},{field:"s_mod_t",titleCode:"skill.attr.s_mod_id",colType:"common",title:"",hide:!0,isShown:!1},{field:"s_type_t",titleCode:"skill.attr.s_type_id",colType:"common",title:"",hide:!1,isShown:!0},{field:"s_reqPoints",titleCode:"skill.attr.s_reqPoints",colType:"common",title:"",type:"number",hide:!1,isShown:!0},{field:"s_isElite_t",titleCode:"skill.attr.s_isElite",colType:"common",title:"",hide:!1,isShown:!0},{field:"skillEffect_t",titleCode:"skill.attr.skillEffect",colType:"common",title:"",hide:!1,isShown:!0}]);A(j,()=>{$()}),es(async()=>{E.value=await Ys(),W(),u.loadLS(["showAll","params","compareList","rawCols","selectedSkillType","selectedisElite","filter_params"],{showAll:p,params:h,compareList:v,rawCols:m,selectedSkillType:f,selectedisElite:b,filter_params:k}),u.isCacheEnabled.value&&U(),$(),u.appReady.value=!0}),A([m,p,h,k,f,b,v],()=>{u.appReady.value&&!u.initialLoad.value&&u.saveLS({showAll:p.value,params:h.value,filter_params:k.value,rawCols:m.value,selectedSkillType:f.value,selectedisElite:b.value,compareList:v.value}),u.appReady.value&&(u.initialLoad.value=!1)},{deep:!0});const B=y(()=>m.value.filter(e=>e.colType==="common"));y(()=>m.value.filter(e=>e.colType==="combat"));const N=y(()=>m.value.reduce((s,a)=>s+(a.isShown?1:0),0)+"/"+m.value.length),z=y(()=>Object.values(f.value).reduce((s,a)=>s+(a.isShown?1:0),0)+"/"+Object.keys(f.value).length),H=y(()=>Object.values(b.value).reduce((s,a)=>s+(a.isShown?1:0),0)+"/"+Object.keys(b.value).length),M=y(()=>Object.values(v.value).reduce((s,a)=>s+(a?1:0),0)+"/"+E.value.length),R=y(()=>{let e=E.value.filter(s=>{var a;return(a=f.value[s.s_type_id])==null?void 0:a.isShown}).filter(s=>{var a;return(a=b.value[s.s_isElite])==null?void 0:a.isShown});return k.value.compare&&(e=e.filter(s=>s._isCompare)),e.map(s=>({...s,s_version_t:i("game.version-list."+s.s_version_id),s_mod_t:i("game.mod-list."+s.s_mod_id),s_type_t:i("skill.type."+s.s_type_id),s_title_t:i("skill.title."+s.s_code),s_isElite_t:i("common.yesno."+s.s_isElite)}))}),F=e=>{U(),k.value[e]=!k.value[e]},U=()=>{E.value.forEach(e=>{e._isCompare=!1,v.value[e._index]&&(e._isCompare=v.value[e._index])})},$=()=>{m.value.forEach(e=>{e.title=i(e.titleCode)})},P=e=>{e.hide=!e.isShown},x=e=>{const s=p.value[e];if(e.slice(0,4)==="col_"){const a=e.slice(4,99);m.value.forEach(_=>{_.colType===a&&(_.isShown=s,_.hide=!s)})}e==="skill_type"&&Object.keys(f.value).forEach(a=>{const _=f.value[a];_.isShown=s}),e==="isElite"&&Object.keys(b.value).forEach(a=>{const _=b.value[a];_.isShown=s})},W=()=>{E.value.forEach((e,s)=>{e.s_version_t="",e.s_mod_t="",e.s_type_t="",e.s_title_t="",e.s_isElite_t="",e._index=s,e._isCompare=!1})},q=e=>new URL(Object.assign({"../assets/pics/ss_pics/1/skills/EW.png":Ks,"../assets/pics/ss_pics/1/skills/advanced_countermeasures.png":Ds,"../assets/pics/ss_pics/1/skills/automated_ships.png":qs,"../assets/pics/ss_pics/1/skills/best_of_the_best.png":Ws,"../assets/pics/ss_pics/1/skills/bulk_transport.png":Ps,"../assets/pics/ss_pics/1/skills/carrier_command.png":Fs,"../assets/pics/ss_pics/1/skills/combat_endurance3.png":Rs,"../assets/pics/ss_pics/1/skills/containment_procedures.png":Ms,"../assets/pics/ss_pics/1/skills/coordinated_maneuvers2.png":Hs,"../assets/pics/ss_pics/1/skills/crew_training.png":zs,"../assets/pics/ss_pics/1/skills/cybernetic_augmentation.png":Ns,"../assets/pics/ss_pics/1/skills/damage_control2.png":Bs,"../assets/pics/ss_pics/1/skills/derelict_contingent.png":js,"../assets/pics/ss_pics/1/skills/energy_weapon_mastery.png":As,"../assets/pics/ss_pics/1/skills/field_modulation.png":$s,"../assets/pics/ss_pics/1/skills/field_repairs.png":Us,"../assets/pics/ss_pics/1/skills/fighter_uplink2.png":Os,"../assets/pics/ss_pics/1/skills/flux_dynamics.png":Vs,"../assets/pics/ss_pics/1/skills/gunnery_implants.png":xs,"../assets/pics/ss_pics/1/skills/helmsmanship.png":Ts,"../assets/pics/ss_pics/1/skills/hypercognition.png":Ls,"../assets/pics/ss_pics/1/skills/impact_mitigation.png":Es,"../assets/pics/ss_pics/1/skills/industrial_planning.png":Ss,"../assets/pics/ss_pics/1/skills/makeshift_equipment.png":Cs,"../assets/pics/ss_pics/1/skills/missile_specialization2.png":ys,"../assets/pics/ss_pics/1/skills/navigation.png":ws,"../assets/pics/ss_pics/1/skills/neural_link.png":ks,"../assets/pics/ss_pics/1/skills/officer_management.png":hs,"../assets/pics/ss_pics/1/skills/officer_training.png":bs,"../assets/pics/ss_pics/1/skills/ordnance_expert2.png":fs,"../assets/pics/ss_pics/1/skills/phase_corps.png":gs,"../assets/pics/ss_pics/1/skills/polarized_armor.png":ms,"../assets/pics/ss_pics/1/skills/ranged_specialization.png":vs,"../assets/pics/ss_pics/1/skills/recovery_ops.png":us,"../assets/pics/ss_pics/1/skills/salvaging.png":ds,"../assets/pics/ss_pics/1/skills/sensors.png":rs,"../assets/pics/ss_pics/1/skills/space_ops.png":ps,"../assets/pics/ss_pics/1/skills/special_modifications.png":cs,"../assets/pics/ss_pics/1/skills/systems_expertise.png":ns,"../assets/pics/ss_pics/1/skills/target_analysis2.png":_s,"../assets/pics/ss_pics/1/skills/weapon_drills.png":os,"../assets/pics/ss_pics/1/skills/wolfpack.png":as})[`../assets/pics/ss_pics/${e.s_version_id}/skills/${e.s_icon}`],import.meta.url).href,D=e=>{let s="";return Object.values(e.skillEffects).forEach(a=>{let _=!1;a[0].se_type=="DESCRIPTION"&&(_=!0);let L=a[0].se_type;s+="<ul>",_||(a[0].se_isElite==1?s+=i("view.skill-db.skillEffect.label_elite"):s+=i("view.skill-db.skillEffect.label_effect")+i("skill.skillEffectType."+a[0].se_type)),a.forEach(t=>{if(_){s+=i("skill.skillEffect.se_"+t.se_id);return}if(t.se_type=="HULLMOD_UNLOCK"){for(let c=1;c<5&&t["se_v"+c]!=null;c++)s+="<li>"+i("view.skill-db.skillEffect.label_HULLMOD_UNLOCK")+i("hullMod.title."+t["se_v"+c])+"</li>";return}if(t.se_type=="ABILITY_UNLOCK"){for(let c=1;c<5&&t["se_v"+c]!=null;c++)s+="<li>"+i("view.skill-db.skillEffect.label_ABILITY_UNLOCK")+i("ability.title."+t.se_v1)+"</li>";return}s+="<li>",L!=t.se_type&&(s+=i("skill.skillEffectType."+t.se_type)+":"),s+=i("skill.skillEffect.se_"+t.se_id)+"</li>"}),s+="</ul>"}),s},K=e=>{e.value._isCompare=!e.value._isCompare,v.value[e.value._index]===void 0&&(v.value[e.value._index]=!1),v.value[e.value._index]=!v.value[e.value._index]};return(e,s)=>{const a=Q,_=G,L=X;return S(),C(T,null,[l("div",Js,[l("div",Is,[l("div",Qs,[l("div",Xs,[l("h3",Zs,[g(n(e.$t("view.skill-db.title"))+" ",1),l("small",null,n(e.$t("view.skill-db.version")),1),s[9]||(s[9]=g()),l("small",Gs,n(e.$t("view.skill-db.desc")),1)])]),l("div",se,[l("ol",ee,[l("li",le,[d(o(ls),{to:"/"},{default:r(()=>s[10]||(s[10]=[g("Home")])),_:1})]),l("li",te,n(e.$t("view.skill-db.title")),1)])])]),d(a)])]),l("div",ie,[l("div",ae,[l("div",oe,[l("div",_e,[l("div",ne,[l("div",ce,[l("div",pe,[l("div",re,[l("div",de,[s[11]||(s[11]=l("span",{class:"input-group-text"},[l("i",{class:"bi bi-search"})],-1)),ts(l("input",{"onUpdate:modelValue":s[0]||(s[0]=t=>h.value.search=t),type:"text",class:"form-control",placeholder:e.$t("common.label.typeForSearch")},null,8,ue),[[is,h.value.search]])])]),l("div",ve,[d(L,{text:o(i)("view.skill-db.label_colShown",{cnt:N.value}),variant:"primary",class:"d-grid","auto-close":"outside"},{default:r(()=>[l("div",me,[s[12]||(s[12]=l("div",{class:"row"},[l("div",{class:"col-3",style:{"min-width":"450px"}})],-1)),d(_,{modelValue:p.value.col_common,"onUpdate:modelValue":[s[1]||(s[1]=t=>p.value.col_common=t),s[2]||(s[2]=t=>x("col_common"))],switch:"",state:p.value.col_common?!0:null},{default:r(()=>[g(n(o(i)("view.skill-db.label_selectAllCommonCol")),1)]),_:1},8,["modelValue","state"]),l("div",ge,[(S(!0),C(T,null,O(B.value,t=>(S(),C("div",fe,[d(_,{class:"ms-2",modelValue:t.isShown,"onUpdate:modelValue":[c=>t.isShown=c,c=>P(t)],switch:"",state:t.isShown?!0:null},{default:r(()=>[g(n(o(i)(t.titleCode)),1)]),_:2},1032,["modelValue","onUpdate:modelValue","state"])]))),256))])])]),_:1},8,["text"])]),l("div",be,[d(L,{text:o(i)("view.skill-db.label_isEliteShown",{cnt:H.value}),variant:"primary",class:"d-grid","auto-close":"outside"},{default:r(()=>[l("div",he,[s[13]||(s[13]=l("div",{class:"row"},[l("div",{class:"col-3",style:{"min-width":"450px"}})],-1)),d(_,{modelValue:p.value.isElite,"onUpdate:modelValue":[s[3]||(s[3]=t=>p.value.isElite=t),s[4]||(s[4]=t=>x("isElite"))],switch:"",state:p.value.isElite?!0:null},{default:r(()=>[g(n(o(i)("view.skill-db.label_selectAll")),1)]),_:1},8,["modelValue","state"]),l("div",ke,[(S(!0),C(T,null,O(b.value,t=>(S(),C("div",we,[d(_,{class:"ms-2",modelValue:t.isShown,"onUpdate:modelValue":c=>t.isShown=c,switch:"",state:t.isShown?!0:null},{default:r(()=>[g(n(o(i)("common.yesno."+t.type_id)),1)]),_:2},1032,["modelValue","onUpdate:modelValue","state"])]))),256))])])]),_:1},8,["text"])]),l("div",ye,[d(L,{text:o(i)("view.skill-db.label_typeShown",{cnt:z.value}),variant:"primary",class:"d-grid","auto-close":"outside"},{default:r(()=>[l("div",Ce,[s[14]||(s[14]=l("div",{class:"row"},[l("div",{class:"col-3",style:{"min-width":"450px"}})],-1)),d(_,{modelValue:p.value.skill_type,"onUpdate:modelValue":[s[5]||(s[5]=t=>p.value.skill_type=t),s[6]||(s[6]=t=>x("skill_type"))],switch:"",state:p.value.skill_type?!0:null},{default:r(()=>[g(n(o(i)("view.skill-db.label_selectAllType")),1)]),_:1},8,["modelValue","state"]),l("div",Se,[(S(!0),C(T,null,O(f.value,t=>(S(),C("div",Ee,[d(_,{class:"ms-2",modelValue:t.isShown,"onUpdate:modelValue":c=>t.isShown=c,switch:"",state:t.isShown?!0:null},{default:r(()=>[g(n(o(i)("skill.type."+t.type_id)),1)]),_:2},1032,["modelValue","onUpdate:modelValue","state"])]))),256))])])]),_:1},8,["text"])]),l("div",Le,[l("div",Te,[l("button",{class:V(["btn",[k.value.compare?"btn-primary":"btn-outline-primary"]]),type:"button",onClick:s[7]||(s[7]=t=>F("compare"))},n(k.value.compare?o(i)("common.label.on"):o(i)("common.label.off"))+"-"+n(o(i)("common.label.compare"))+" "+n(M.value),3)])]),l("div",xe,[l("div",Ve,[l("button",{class:V(["btn",[o(u).isCacheEnabled.value?"btn-primary":"btn-outline-primary"]]),type:"button",onClick:s[8]||(s[8]=t=>o(u).switchCache())},n(o(u).isCacheEnabled.value?o(i)("common.label.on"):o(i)("common.label.off"))+"-"+n(o(i)("common.label.localStorage")),3)])])])]),s[15]||(s[15]=l("div",null,null,-1)),l("div",Oe,[d(o(Z),{rows:R.value,columns:m.value,sortable:!0,cloneHeaderInFooter:!0,stickyFirstColumn:!0,search:h.value.search,page:h.value.page,pageSize:h.value.pageSize,class:"alt-pagination",skin:"bh-table-striped bh-table-hover bh-table-bordered bh-table-compact"},{s_title_t:r(t=>[l("div",Ue,[l("img",{src:q(t.value)},null,8,$e),g(" "+n(t.value.s_title_t),1)])]),compare:r(t=>[l("div",Ae,[l("button",{type:"button",class:V(["btn",[t.value._isCompare?"btn-success":"btn-secondary"]]),onClick:c=>K(t)},n(t.value._isCompare?"+":"-"),11,je)])]),skillEffect_t:r(t=>[l("div",{class:"flex gap-4",innerHTML:D(t.value)},null,8,Be)]),_:1},8,["rows","columns","search","page","pageSize"])]),s[16]||(s[16]=l("div",{class:"card-footer clearfix"},[l("p",{class:"float-end m-0"},"support version v0.97a-rc11")],-1))])])])])])],64)}}};export{Re as default};
